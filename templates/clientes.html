{% extends 'base.html'%}

{%block content  %}
<div class="container">

            <div class="row">
                <div class="col-md-12">
                    <div class="jumbotron p-3">
                        <h2>Clientes</h2>
                        <button type="button" class="btn btn-success float-right" data-toggle="modal" data-target="#modalcliente">Cadastrar</button>
                    </div>
                </div>
            </div>

     <!-- Modal cadastro -->
            <div class="modal fade bd-example-modal-lg"
                 id="modalcliente" tabindex="-1"
                 role="dialog"
                 aria-labelledby="myLargeModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog modal-lg" >
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="modalcliente">Cadastrar cliente</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>

                            <div class="modal-body">
                                <div class="form-group">
                                    <form action="" method="POST">

                                        <div class="form-group" method="POST">
                                            <label>Razao Social:</label>
                                            <input type="text" class="form-control" name="razao_social"/>
                                        </div>

                                        <div class="form-group" method="POST">
                                            <label>Nome Fantasia:</label>
                                            <input type="text" class="form-control" name="nome_fantasia"/>
                                        </div>

                                        <div class="form-group" method="POST">
                                            <label>CNPJ:</label>
                                            <input type="text" class="form-control" name="cnpj" required />
                                        </div>

                                        <div class="form-group" method="POST">
                                            <label>Inscrição Estadual:</label>
                                            <input type="text" class="form-control" name="inscricao_estadual"/>
                                        </div>

                                        <div class="form-group" method="POST">
                                            <label>Telefone:</label>
                                            <input type="text" class="form-control" name="telefone" />
                                        </div>

                                        <div class="form-group" method="POST">
                                            <label>Celular:</label>
                                            <input type="text" class="form-control" name="celular" />
                                        </div>

                                        <div class="form-group" method="POST">
                                            <label>e-mail:</label>
                                            <input type="text" class="form-control" name="email" />
                                        </div>

                                        <div class="form-group" method="POST">
                                            <label>email para envio NFe:</label>
                                            <input type="text" class="form-control" name="danfe" />
                                        </div>

                                        <div class="form-group" method="POST">
                                            <label>Site:</label>
                                            <input type="text" class="form-control" name="site" />
                                        </div>

                                        <div class="form-group" method="POST">
                                            <label>Vendedor:</label>
                                            <input type="text" class="form-control" name="vendedor" />
                                        </div>

                                        <div class="form-group" method="POST">
                                            <label>Visita:</label>
                                            <input type="text" class="form-control" name="visita" />
                                        </div>

                                        <div class="form-group" method="POST">
                                            <label>Observações:</label>
                                            <input type="text" class="form-control" name="observacoes"/>
                                        </div>

                                        <div class="form-group" method="POST">
                                            <label>Caixa Postal:</label>
                                            <input type="text" class="form-control" name="caixa_postal"/>
                                        </div>

                                        <div class="form-group" method="POST">
                                            <label>Status:</label>
                                            <input type="text" class="form-control" name="status"/>
                                        </div>

                                        <div class="form-group" method="POST">
                                            <label>Pagamentos:</label>
                                            <input type="text" class="form-control" name="pagamentos"/>
                                        </div>

                                        <button type="submit" value="Salvar" class="btn btn-primary">Salvar</button>
                                        <button type="reset" value="Limpar" class="btn btn-primary">Limpar</button>

                                    </form>
                                    </div>
                            </div>
			        </div>

            </div>
        </div>
</div>

<!-- MENSAGEM FLASH -->
{% with messages = get_flashed_messages() %}
{% if messages %}
{% for message in messages %}
<div class="alert alert-success alert-dismissable" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="close">
        <span aria-hidden="true">X</span>
    </button>
    {{message}}
</div>
{% endfor %}
{% endif %}
{% endwith %}



    {% for clientes in clientes %}

                <table width="80%" align="center">

                    <tr>
                        <th>Razão Social:</th>
                        <td colspan="5"> {{clientes.razao_social}}</td>
                    </tr>
                    <tr>
                        <th>Nome Fantasia:</th> <td colspan="5"> {{clientes.nome_fantasia}}</td>
                    </tr>
                    <tr>
                        <th>CNPJ:</th>
                        <td colspan="2"> {{clientes.CNPJ}} </td>
                        <th>Inscrição Estadual:</th>
                        <td colspan="2"> {{clientes.inscricao_estadual}} </td>
                    </tr>

                    <tr>
                        <th>Telefone:</th>
                        <td> {{clientes.telefone}}</td>
                        <th>Celular: </th>
                        <td> {{clientes.Celular}}</td>

                    </tr>

                    <tr>
                        <th>e-mail:</th><td>{{clientes.email}}</td>
                        <th>Danfe:</th><td> {{clientes.Danfe}}</td>
                        <th>Site:</th><td>{{clientes.site}}</td>
                    </tr>

                    <tr>
                        <th>Vendedor:</th><td>{{clientes.Vendedor}}</td>
                        <th>visita:</th><td>{{clientes.Visita}}</td>
                    </tr>

                    <tr>
                        <th>Observações:</th><td>{{clientes.observacoes}}</td>
                    </tr>

                    <tr>
                        <th>Caixa Postal:</th><td>{{clientes.caixa_postal}}</td>
                        <th>Status:</th> <td>{{clientes.Status}}</td>
                        <th>Pagamentos:</th><td>{{clientes.Pagamentos}}</td>
                    </tr>

                    <tr>
                        <td>
                             <a href="/editcliente/{{clientes.idcliente}}"
                                class="btn btn-warning btn-sm"
                                data-toggle="modal"
                                data-target="#modaleditcliente{{clientes.idcliente}}">Editar Cliente</a>
                        </td>

                        <td>
                            <a href="/deletecliente/{{clientes.idcliente}}"
                               class="btn btn-danger btn-sm"
                               onclick="return confirm('Tem certeza que deseja apagar')">Apagar Cliente</a>
                        </td>

                </table>

                    <br>
                     <button class="btn btn-primary"
                             type="button"
                             data-toggle="collapse"
                             data-target="#collapseContatos"
                             aria-expanded="false"
                             aria-controls="collapseExample">
                        Contatos
                    </button>
                    <br>

                <div class="collapse" id="collapseContatos">
                    <div class="card card-body">
                    <table>
                        <tr>
                            <th>Contato:</th>
                            <td>Juliano</td>
                        </tr>
                    </table>
                    </div>

                </div>

                    <button class="btn btn-primary"
                             type="button"
                             data-toggle="collapse"
                             data-target="#collapseEnderecos"
                             aria-expanded="false"
                             aria-controls="collapseExample">
                        Endereços
                    </button>
<br>
                <div class="collapse" id="collapseEnderecos">
                    <div class="card card-body">
                      <table>
                        <tr>
                        <th>Faturamento:</th>
                        <td colspan="3">Av. Assis Chateaubriand, 30</td>
                        <th>Bairro: </th>
                        <td colspan="2">parque sao sebastiao</td>
                    </tr>

                    <tr>
                        <th>Cidade:</th><td>Porto Alegre</td>
                        <th>Estado:</th> <td>RS</td>
                        <th>CEP:</th> <td>910060-440</td>
                    </tr>
                      </table>

                    </div>
                </div>
<br>

<!--MODAL EDIT Cliente -->
<div class="modal fade bd-example-modal-lg" id="modaleditcliente{{clientes.idcliente}}" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modaleditcliente">Atualizar cliente</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

                        <div class="modal-body">
                            <div class="form-group">
                                <form action="{{ url_for('editcliente') }}" method="POST">

                                    <div class="form-group">
                                        <input type="hidden" name="idcliente" value="{{clientes.idcliente}}">
                                        <label>Razao Social:</label>
                                        <input type="text" class="form-control" name="razao_social" value="{{clientes.razao_social}}"/>
                                    </div>

                                    <div class="form-group" method="POST">
                                        <label>Nome Fantasia:</label>
                                        <input type="text" class="form-control" name="nome_fantasia" value="{{clientes.nome_fantasia}}" />
                                    </div>

                                    <div class="form-group" method="POST">
                                        <label>CNPJ:</label>
                                        <input type="text" class="form-control" name="cnpj" value="{{clientes.CNPJ}}" required />
                                    </div>

                                    <div class="form-group" method="POST">
                                        <label>Inscrição Estadual:</label>
                                        <input type="text" class="form-control" name="inscricao_estadual" value="{{clientes.inscricao_estadual}}" />
                                    </div>

                                    <div class="form-group" method="POST">
                                        <label>Telefone:</label>
                                        <input type="text" class="form-control" name="telefone" value="{{clientes.telefone}}" />
                                    </div>


                                    <div class="form-group" method="POST">
                                        <label>Celular:</label>
                                        <input type="text" class="form-control" name="celular" value="{{clientes.Celular}}" />
                                    </div>

                                    <div class="form-group" method="POST">
                                        <label>e-mail:</label>
                                        <input type="text" class="form-control" name="email" value="{{clientes.email}}" />
                                    </div>

                                    <div class="form-group" method="POST">
                                        <label>e-mail para envio NFe:</label>
                                        <input type="text" class="form-control" name="danfe" value="{{clientes.Danfe}}" />
                                    </div>

                                    <div class="form-group" method="POST">
                                        <label>Site:</label>
                                        <input type="text" class="form-control" name="site" value="{{clientes.site}}" />
                                    </div>

                                    <div class="form-group" method="POST">
                                        <label>Vendedor:</label>
                                        <input type="text" class="form-control" name="vendedor" value="{{clientes.Vendedor}}" />
                                    </div>

                                    <div class="form-group" method="POST">
                                        <label>Visita:</label>
                                        <input type="text" class="form-control" name="visita" value="{{clientes.Visita}}"/>
                                    </div>

                                    <div class="form-group" method="POST">
                                        <label>Observações:</label>
                                        <input type="text" class="form-control"  name="observacoes" value="{{clientes.observacoes}}" rows="5">
                                    </div>


                                    <div class="form-group" method="POST">
                                        <label>Caixa Postal:</label>
                                        <input type="text" class="form-control" name="caixa_postal" value="{{clientes.caixa_postal}}" />
                                    </div>

                                    <div class="form-group" method="POST">
                                        <label>Status:</label>
                                        <input type="text" class="form-control" name="status" value="{{clientes.Status}}" />
                                    </div>

                                    <div class="form-group" method="POST">
                                        <label>Pagamentos:</label>
                                        <input type="text" class="form-control" name="pagamentos" value="{{clientes.Pagamentos}}" />
                                    </div>

                            </div>

                            <button type="submit" value="Salvar" class="btn btn-primary">Atualizar</button>


                            </form>

                        </div>
        </div>
    </div>
</div>

    {% endfor %}

{% endblock %}
